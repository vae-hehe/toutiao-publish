(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-418d2686"],{"15aa":function(t,e,n){"use strict";var a=n("69a1"),s=n.n(a);s.a},"162e":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",{staticClass:"layout-container"},[n("el-aside",{staticClass:"aside",attrs:{width:"auto"}},[n("app-aside",{staticClass:"aside-menu",attrs:{isCollapse:t.isCollapse}})],1),n("el-container",[n("el-header",{staticClass:"header"},[n("div",[n("i",{class:{"el-icon-s-fold":t.isCollapse,"el-icon-s-unfold":!t.isCollapse},on:{click:function(e){t.isCollapse=!t.isCollapse}}}),n("span",[t._v("江苏传智播客科技教育有限公司")])]),n("el-dropdown",[n("div",{staticClass:"avatar-wrap"},[n("img",{staticClass:"avatar",attrs:{src:t.user.photo}}),n("span",[t._v(t._s(t.user.name))])]),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",[t._v("设置")]),n("el-dropdown-item",{nativeOn:{click:function(e){return t.onLogout()}}},[t._v("退出")])],1)],1)],1),n("el-main",{staticClass:"main"},[n("router-view")],1)],1)],1)},s=[],o=(n("b0c0"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-menu",{staticClass:"nav-menu",attrs:{"default-active":t.$route.path,"background-color":"#002033","text-color":"#fff","active-text-color":"#ffd04b",router:"",collapse:t.isCollapse}},[n("el-menu-item",{attrs:{index:"/"}},[n("i",{staticClass:"el-icon-s-home"}),n("span",{attrs:{slot:"title"},slot:"title"},[t._v("首页")])]),n("el-menu-item",{attrs:{index:"/article"}},[n("i",{staticClass:"el-icon-document"}),n("span",{attrs:{slot:"title"},slot:"title"},[t._v("内容管理")])]),n("el-menu-item",{attrs:{index:"/image"}},[n("i",{staticClass:"iconfont iconimage"}),n("span",{attrs:{slot:"title"},slot:"title"},[t._v("素材管理")])]),n("el-menu-item",{attrs:{index:"/publish"}},[n("i",{staticClass:"iconfont iconpublish"}),n("span",{attrs:{slot:"title"},slot:"title"},[t._v("发布文章")])]),n("el-menu-item",{attrs:{index:"/comment"}},[n("i",{staticClass:"iconfont iconreview"}),n("span",{attrs:{slot:"title"},slot:"title"},[t._v("评论管理")])]),n("el-menu-item",{attrs:{index:"/fans"}},[n("i",{staticClass:"iconfont iconfensiguanli"}),n("span",{attrs:{slot:"title"},slot:"title"},[t._v("粉丝管理")])]),n("el-menu-item",{attrs:{index:"/settings"}},[n("i",{staticClass:"el-icon-setting"}),n("span",{attrs:{slot:"title"},slot:"title"},[t._v("个人设置")])])],1)}),i=[],r={name:"AppAside",components:{},props:["is-collapse"],data:function(){return{}},computed:{},watch:{},created:function(){},mounted:function(){},methods:{}},l=r,c=(n("2c9a"),n("2877")),u=Object(c["a"])(l,o,i,!1,null,"30416915",null),d=u.exports,f=n("c24f"),p=n("50f8"),m={name:"LayoutIndex",components:{AppAside:d},props:{},data:function(){return{user:{},isCollapse:!1}},computed:{},watch:{},created:function(){var t=this;this.loadUserProfile(),p["a"].$on("update-user",(function(e){console.log("update-user",e),t.user.name=e.name,t.user.photo=e.photo}))},mounted:function(){},methods:{loadUserProfile:function(){var t=this;Object(f["d"])().then((function(e){t.user=e.data.data}))},onLogout:function(){var t=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){window.localStorage.removeItem("user"),t.$router.push("/login")})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))}}},h=m,v=(n("15aa"),Object(c["a"])(h,a,s,!1,null,"86eaf546",null));e["default"]=v.exports},"2c9a":function(t,e,n){"use strict";var a=n("8e7b"),s=n.n(a);s.a},"50f8":function(t,e,n){"use strict";var a=n("8bbf"),s=n.n(a);e["a"]=new s.a},"69a1":function(t,e,n){},"8e7b":function(t,e,n){},b0c0:function(t,e,n){var a=n("83ab"),s=n("9bf2").f,o=Function.prototype,i=o.toString,r=/^\s*function ([^ (]*)/,l="name";a&&!(l in o)&&s(o,l,{configurable:!0,get:function(){try{return i.call(this).match(r)[1]}catch(t){return""}}})},c24f:function(t,e,n){"use strict";n.d(e,"e",(function(){return s})),n.d(e,"d",(function(){return o})),n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return r})),n.d(e,"c",(function(){return l}));var a=n("b775"),s=function(t){return Object(a["a"])({method:"POST",url:"/mp/v1_0/authorizations",data:t})},o=function(){return Object(a["a"])({method:"GET",url:"/mp/v1_0/user/profile",headers:{}})},i=function(t){return Object(a["a"])({method:"PATCH",url:"/mp/v1_0/user/profile",data:t})},r=function(t){return Object(a["a"])({method:"PATCH",url:"/mp/v1_0/user/photo",data:t})},l=function(t){return Object(a["a"])({method:"GET",url:"/mp/v1_0/followers",params:t})}}}]);
//# sourceMappingURL=chunk-418d2686.81dd5984.js.map